# ERD 및 테이블 구조 문서

이 문서는 버스/운전자 관리 시스템의 모든 데이터 모델, API, UI 구현의 기준이 되는 ERD(Entity-Relationship Diagram) 및 테이블 구조를 명확히 문서화합니다. 모든 개발 및 유지보수 시 본 문서를 참고해야 합니다.

---

## 1. User (사용자)
| 필드명         | 타입      | 설명                |
| -------------- | --------- | ------------------- |
| id             | int       | PK, 사용자 고유 ID  |
| name           | string    | 이름                |
| email          | string    | 이메일(로그인 ID)   |
| password       | string    | 비밀번호(해시)      |
| role           | string    | 권한(admin/driver)  |
| created_at     | datetime  | 생성일              |
| updated_at     | datetime  | 수정일              |

---

## 2. Driver (운전자)
| 필드명         | 타입      | 설명                |
| -------------- | --------- | ------------------- |
| id             | int       | PK, 운전자 고유 ID  |
| user_id        | int       | FK, User.id         |
| license_no     | string    | 면허번호            |
| phone          | string    | 연락처              |
| hire_date      | date      | 입사일              |
| status         | string    | 상태(재직/퇴사 등)  |
| created_at     | datetime  | 생성일              |
| updated_at     | datetime  | 수정일              |

---

## 3. Bus (버스)
| 필드명         | 타입      | 설명                |
| -------------- | --------- | ------------------- |
| id             | int       | PK, 버스 고유 ID    |
| bus_no         | string    | 버스 번호           |
| model          | string    | 모델명              |
| capacity       | int       | 정원                |
| status         | string    | 상태(운행/정비 등)  |
| created_at     | datetime  | 생성일              |
| updated_at     | datetime  | 수정일              |

---

## 4. OperatingSchedule (운행 일정)
| 필드명         | 타입      | 설명                |
| -------------- | --------- | ------------------- |
| id             | int       | PK, 일정 고유 ID    |
| bus_id         | int       | FK, Bus.id          |
| driver_id      | int       | FK, Driver.id       |
| route          | string    | 노선                |
| departure_time | datetime  | 출발 시간           |
| arrival_time   | datetime  | 도착 시간           |
| status         | string    | 상태(예정/운행/완료)|
| created_at     | datetime  | 생성일              |
| updated_at     | datetime  | 수정일              |

---

## 5. Notification (알림)
| 필드명         | 타입      | 설명                |
| -------------- | --------- | ------------------- |
| id             | int       | PK, 알림 고유 ID    |
| user_id        | int       | FK, User.id         |
| title          | string    | 제목                |
| message        | string    | 내용                |
| is_read        | boolean   | 읽음 여부           |
| created_at     | datetime  | 생성일              |

---

## 6. 기타 참고 사항
- 모든 테이블은 created_at, updated_at 필드를 포함합니다.
- FK(Foreign Key)는 참조 무결성을 보장합니다.
- status 필드는 각 테이블의 상태(예: 운전자 재직/퇴사, 버스 운행/정비 등)를 관리합니다.
- Notification은 사용자별로 생성되며, 읽음/삭제 처리 로직은 프론트엔드에서 구현합니다.

---

> **이 문서는 src/Table.md에 상시 보관하며, 모든 데이터 모델, API, UI 구현의 기준이 됩니다. 변경 시 반드시 팀과 공유 후 업데이트하세요.**
