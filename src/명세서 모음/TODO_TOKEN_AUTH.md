# 토큰 인증 및 로그인 개선 TODO

## 현재 구조
- localStorage에 토큰이 있으면 로그인된 것으로 간주
- 토큰 유효성(만료, 위조 등) 검증 없음
- API 요청 시 토큰 포함, 401 등 에러 발생 시 별도 처리 없음

## 개선이 필요한 부분

### 1. 토큰 유효성 검증
- 프론트엔드에서 토큰 만료 여부(JWT exp 등) 확인
- 만료된 토큰이면 자동 로그아웃 및 로그인 페이지로 이동

### 2. API 요청 실패(401 Unauthorized) 처리
- axios 인터셉터에 401 응답 시 자동 로그아웃 및 안내 메시지
- 토큰이 위조/만료/삭제된 경우에도 안전하게 처리

### 3. 토큰 저장 방식 개선
- localStorage 외에 httpOnly 쿠키 등 보안 강화 방법 고려

### 4. 로그인/로그아웃 UX 개선
- 만료/실패 시 사용자에게 안내 메시지 표시
- 로그아웃 시 토큰 및 사용자 정보 모두 삭제

### 5. 백엔드와 연동
- 백엔드에서 토큰 검증 로직 강화
- refresh token 등 추가 인증 방식 도입 가능성 검토

---

## 실제 코드에서 바꿔야 할 위치
- src/components/Token/TokenProvider.jsx: 토큰 저장/삭제/유효성 검증 로직 추가
- src/pages/Signin.jsx: 로그인 성공 후 토큰 검증, 실패 시 처리
- src/App.jsx: 라우트 보호(ProtectedRoute)에서 토큰 유효성 체크
- axios 설정(공통): 401 에러 인터셉터 추가

---

## 참고
- JWT 구조 및 exp, iat 등 파싱 방법
- axios 인터셉터 사용법
- 보안 강화(쿠키, XSS, CSRF 등)
